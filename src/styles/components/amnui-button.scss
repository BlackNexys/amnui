@use "sass:map";
@use '../settings' as *;

.root {
    transition: all 0.115s ease-in-out;
    font-family: var(--amnui-font-family-primary);
    font-size: var(--amnui-font-size-md);
    font-weight: 600;
    letter-spacing: normal;
    text-transform: none;
    text-shadow: none;
    outline: none;
    border: none;
    text-align: center;
    text-decoration: none;
    display: inline-flex;
    white-space: nowrap;
    user-select: none;
    position: relative;
    overflow: hidden;
    gap: var(--amnui-spacing-2);
    cursor: pointer;

    &.contained::before, &.outlined::before, &.toast::before {
        content: "";
        position: absolute;
        inset: 0;
        pointer-events: none;
        background-image: var(--amnui-control-sheen, none);
        background-blend-mode: screen;
        opacity: var(--amnui-holo-opacity, 0);
    }

    &.contained {
        padding: var(--amnui-spacing-2) var(--amnui-spacing-4);
        border-radius: var(--amnui-rounding);
        border: 1px solid transparent;
    }

    &.outlined {
        padding: var(--amnui-spacing-2) var(--amnui-spacing-4);
        border-radius: var(--amnui-rounding);
        border: 1px solid transparent;
    }

    &.text {
        padding: var(--amnui-spacing-0);
        margin: var(--amnui-spacing-0);
    }

    &.toast {
        width: 100%;
        padding: var(--amnui-spacing-3) var(--amnui-spacing-4);
        border-radius: var(--amnui-rounding);
        text-align: left;
        white-space: normal;
        align-items: center;
        justify-content: flex-start;
        border: 1px solid transparent;
    }

    @each $theme in $themes {
        $name: map.get($theme, "name");
        &.contained.#{$name} {
            background-color: var(--amnui-#{$name});
            color: var(--amnui-#{$name}-text);
            border: 1px solid var(--amnui-#{$name});
        }

        &.outlined.#{$name} {
            background-color: transparent !important;
            color: var(--amnui-#{$name});
            border: 1px solid var(--amnui-#{$name});
        }

        &.text.#{$name} {
            background-color: transparent !important;
            color: var(--amnui-#{$name});
            border: none;
        }

        &.toast.#{$name} {
            background-color: var(--amnui-white);
            color: var(--amnui-light-text);
            border: 1px solid var(--amnui-#{$name});
        }

        &.contained.#{$name}:hover, &.outlined.#{$name}:hover {
            background-color: var(--amnui-#{$name}-dark);
            color: var(--amnui-#{$name}-text);
            border: 1px solid var(--amnui-#{$name}-dark);
            outline: var(--amnui-#{$name});
            box-shadow: 0 0 0 2px var(--amnui-border-glow);
        }

        &.toast.#{$name}:hover {
            background-color: var(--amnui-interaction-hover-bg);
            color: var(--amnui-light-text);
            border: 1px solid var(--amnui-#{$name});
            transform: none;
        }

        &.text.#{$name}:hover {
            color: var(--amnui-#{$name}-dark);
            text-decoration: underline;
        }

        &.contained.#{$name}:active, &.outlined.#{$name}:active {
            background-color: var(--amnui-#{$name}-light);
            color: var(--amnui-#{$name}-text);
            border: 1px solid var(--amnui-#{$name}-light);
            outline: var(--amnui-#{$name});
            box-shadow: 0 0 0 2px var(--amnui-border-glow);
        }

        &.toast.#{$name}:active {
            background-color: var(--amnui-interaction-active-bg);
            color: var(--amnui-light-text);
            border: 1px solid var(--amnui-#{$name});
            outline: var(--amnui-#{$name});
            transform: none;
        }

        &.text.#{$name}:active {
            color: var(--amnui-#{$name}-light);
            text-decoration: underline;
        }
    }
}

:host([disabled]){
    .root {
        filter: grayscale(.75);
        cursor: not-allowed;
    }
    
    @each $theme in $themes {
        $name: map.get($theme, "name");
        .contained.#{$name}, &.outlined.#{$name} {
            background-color: var(--amnui-#{$name}-light);
            color: var(--amnui-#{$name}-text);
            border: 1px solid var(--amnui-#{$name}-light);
        }

        .text.#{$name} {
            background-color: var(--amnui-#{$name}-light);
        }
    }
}


